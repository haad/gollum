GLN Laco server documentation
=============================
Adam Hamsik <adam.hamsik@chillisys.com>
v1.0 January 2011: Initial version of documentation

== General information
|==============================================
|**Procesor** 	   : | 4(8with HT) cores of Intel(R) Xeon(R) CPU X3440  @ 2.53GHz
|**Main memory**    : |	4 Gb	
|**Virtualization** : | N/A	
|**OS**             : | Gentoo linux
|**Device type	    : | server 		
|**State**	   : |in production 
|**SLA**	   : | 24x7 monitoring
|resolve	    | 24 
|Downtime contact  :| Norbert Kyndl
|                   | norbert.kyndl@gln.sk
|                   | +421903796311
|==============================================

**Relations**: None

=== Storage preferences 

|=============================================
|**Raid** : | Raid 1 on all storage, md1(sda1,sdb1), md2(sda2,sdb2),md3(sda3,sdb3)
|**Lvm**  : | Yes
|PV	    | Is on md3
|VG	    | name vg01
|LV	    | LV names: home,usr,tmp,swap,var
|md0	    | /boot
|md1	    | /
|LV home    | /home
|LV usr 	| /usr
|LV tmp 	| /tmp
|LV srv 	| /srv
|LV var 	| /var
|=============================================

=== Network preferences

|=============================================
|**eth0** : | 
|IP 	    | 193.87.174.98
|IP1 alias: | 193.87.174.99
|MAC 	    | 00:15:17:f0:f6:ef
|**DNS** :  | laco.zk.gln.sk(external)
|**Special**:| enabled routing via sysctl.conf, MASQUARADE of output traffic, filtering http traffic
|=============================================

|=============================================
|**eth1** : | 
|IP0 	    | 10.1.14.1
|IP1 alias: | 10.1.14.2
|IP2 alias: | 10.1.14.3
|MAC 	    | 00:15:17:f0:f6:ee
|**DNS** :  | laco.zk.gln.sk(internal,to ip 10.1.14.1)
|**Special**:| enabled routing via sysctl.conf, traffic to port 80 forwarded to laco.zk.gln.sk port 3000
|=============================================

=== Installed programs/services


[options="header"]
|=============================================
2+| Squid
|Descr      | Proxy server
|Function   | Caching of web sites from internet
|Components | N/A
|Special    | Listens only on localhost:3128
|=============================================

[options="header"]
|=============================================
2+| dansguardian 
|Descr      | Filtering web pages
|Function   | Filters web pages , filtering based on phrases 
|Components | n/a
|Special    | Listens on port 3000 on ip 10.1.14.1
|=============================================

[options="header"]
|=============================================
2+| postfix 
|Descr      | Mail distribution system
|Function   | Sending mail notifications from os, audit and monitoring tools
|Components | n/a
|Special    | Listens only on localhost:25
|=============================================

[options="header"]
|=============================================
2+| dhcpd 
|Descr | dhcp server
|Function   | assings IP to clients from range 10.1.14.0/24
|IP range	| 10.1.14.4 - 10.1.14.254
|Components | n/a
|Special    | Some clients IPs assigned according to client MAC 
|=============================================

[options="header"]
|=============================================
2+| Bind(named)
|Descr | Dns server
|Function   | Resolves DNS names to ip
|Components | n/a
|Special    | Used for internal resolution of names in domain zk.gln.sk(defined in /etc/bind/pri/zk.gln.sk.zone)
|	    	| Used for resolution of all DNS names (only internal lan clients)
|=============================================
=== Special

==== Dhcpd
List static of mac to IP maping
////
Generated by:
cat /etc/dhcp/dhcpd.conf | grep -v '#'| grep -A 2 host | sed -e 's/ {$/{/' |tr ' ' '\n' | egrep ';|{'|xargs -n 3|sed -e's/[{;]./|/g; s/;$/|/g; s?^?|?'
////
|========================================
|tlaciaren|00:20:00:dc:f2:E5|10.1.14.241
|=======================================
